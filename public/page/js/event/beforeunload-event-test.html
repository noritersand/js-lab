<!DOCTYPE html>
<html lang="ko">
<head>
<title>beforeunload event test</title>
<meta charset="utf-8">
<link rel="icon" type="image/png" href="/image/favicon.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="/css/style.css"/>
<script>
function beforeunloadHandler(event) {
  event.preventDefault();
  event.returnValue = '';
}
function attach() {
  window.addEventListener('beforeunload', beforeunloadHandler);
}
function detach() {
  window.removeEventListener('beforeunload', beforeunloadHandler);
}
attach();
</script>
</head>
<body>
<div class="align-center">
  <h1>beforeunload event test</h1>
  <p>윈도우가 <code>close</code>의(새로고침, 페이지 이동 포함) 차단이 가능한지 테스트.</p>
  <br>
  <section>
    <button type="button" onclick="attach()">리스너 부착</button>&nbsp;
    <button type="button" onclick="detach()">리스너 탈착</button><br><br>
    <input type="text" name="123" autofocus placeholder="Firefox에선 여기에 아무 값이나 입력해야 페이지 이동 컨펌 창이 발생함" style="width: 450px">
  </section>
  <section>
    <div id="resultText" style="color: red;"></div>
  </section>
  <div class="result">
  <pre>window.addEventListener('beforeunload', (event) => {
  event.preventDefault();
  event.returnValue = '';
});</pre>
  </div>
</div>
</body>
</html>
