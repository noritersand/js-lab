<!DOCTYPE html>
<html lang="ko">
<head>
<title>await</title>
<meta charset="utf-8">
<link rel="icon" type="image/png" href="/image/favicon.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="stylesheet" href="/css/style.css"/>
<script src="/lib/js/jquery-1.12.4.js"></script>
</head>
<body>
<div class="align-center">
  <h1>await</h1>
  <p></p>
  <button type="button" onclick="getSome('/success.data?a=1&b=2&c=3')">성공 버튼</button>
  <button type="button" onclick="getSome('/error500.data?a=1&b=2&c=3')">실패 버튼</button>
  <p class="description"><strong>result1:</strong><br><br><span id="result1"></span></p>
  <p class="description"><strong>result2:</strong><br><br><span id="result2"></span></p>
</div>
<script>
const wait = ms => new Promise(resolve => setTimeout(resolve, ms));
const wait2 = ms => setTimeout(() => { console.log('hel?lo') }, ms);

var fn2 = async () => {
  console.log('개성공단의 반대말은?');
  await 789;
  console.log('🤣🤣🤣');
};
fn2();
console.log('고양이실패단');

var fn2 = async () => {
  // window.temp1 = await 123;
  // window.temp2 = Promise.resolve(123).then(() => undefined);
  // return null;
  return await 1;
};
// var r2 = fn2();

async function f2() {
  var y = 20;
  console.log(y); // 20
}
// f2();

var timeTest = async () => {
  let startTime = new Date();
  
  // await wait(1000);
  // await wait(1000);
  // await wait(1000);

  waitSync(2000);
  
  let endTime = new Date();
  console.log(`It takes ${endTime.getTime() - startTime.getTime()} milliseconds.`);
};
// timeTest();

var timeTest2 = async () => {
  let startTime = new Date();
  
  // let result = wait(1000);
  // let result2 = wait(1000);
  // let result3 = wait(1000);
  // await result;
  // await result2;
  // await result3;

  waitSync(2000);

  let endTime = new Date();
  console.log(`It takes ${endTime.getTime() - startTime.getTime()} milliseconds.`);
};
// timeTest2();

function waitSync(ms) {
  let startTime = new Date();
  while (true) {
    let elapsed = new Date().getTime() - startTime.getTime();
    if (elapsed > ms) {
      console.log(`After ${elapsed} milliseconds`);
      return elapsed
      break;
    }
  }
}



</script>
</body>
</html>
