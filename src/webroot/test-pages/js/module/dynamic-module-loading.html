<!DOCTYPE html>
<html lang="ko">

<head>
  <title>Dynamic Module Loading</title>
  <meta charset="utf-8">
  <link rel="icon" type="image/png" href="/images/favicon.png">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="stylesheet" href="/styles/normalize.css" />
  <link rel="stylesheet" href="/styles/letters.css" />
  <link rel="stylesheet" href="/styles/style.css" />
  <link rel="stylesheet" href="/lib/prism/prism.css" />
  <script src="/lib/prism/prism.js"></script>
  <script type="module" src="./dynamic-module-loading.js"></script>
</head>

<body>
  <div class="align-center">
    <h1>Dynamic Module Loading</h1>

    <pre><code class="language-js">
    // dynamic-module-loading.js

    let btn = document.querySelector('button#btn');

    btn.addEventListener('click', () => {
      import('./messages.js').then((module) => {
        console.log('module.default.wassup:', module.default.wassup);
        console.log('module.foo.bar:', module.foo.bar);
      });
    });
  </code></pre>
    <pre><code class="language-js">
    // messages.js

    export default {
      wassup: 'wassssssssssssup'
    };
    
    export const foo = {
      bar: 'Hello world!'
    };
  </code></pre>

    <div class="description">
      <button class="margin-vertical" type="button" id="btn">개발자 도구 열고 눌러욧</button>
      <p>버튼을 누르면 <code class="language-js">dynamic-module-loading.js</code>를 불러옴</p>
    </div>

    <div class="result">
      <p>모듈 파일을 한 번 불러왔으면 <code class="language-js">import()</code> 스크립트를 실행해도 같은 파일을 다시 불러오지는 않는다. 하지만 스크립트는 실행됨</p>
    </div>
  </div>
</body>

</html>